---
import { Icon } from 'astro-icon';
interface CommonProps {
  class?: string;
  backgroundColor?: string;
  fontSize?: string;
}

type ConditionalProps =
  | { icon?: string; iconBgColor?: string; iconSize: string }
  | { icon?: undefined; iconBgColor?: undefined; iconSize: undefined };

type Props = CommonProps & ConditionalProps;

const {
  icon,
  class: className,
  backgroundColor = 'bg-source-primary',
  fontSize = 'text-headline-medium',
  iconBgColor,
  iconSize,
} = Astro.props as Props;
---

<button
  class:list={[
    `h-[8rem] ${backgroundColor} ${fontSize} border-0  rounded-[48px] py-lg ${className}`,
    { 'pd-sm': icon },
  ]}
>
  <slot />
  {
    icon !== undefined && (
      <span class={iconSize}>
        <Icon name={icon} class={iconBgColor} />
      </span>
    )
  }
</button>

<style>
  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1.6rem;
  }
  .py-lg {
    padding-inline: 4.8rem;
  }
  .pd-sm {
    padding-inline: 3.2rem;
  }
</style>
